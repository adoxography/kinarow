<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>K-in-a-row</title><link rel="icon shortcut" href="/kinarow/favicon.f72dcefd.ico" type="image/x-icon"><link rel="stylesheet" href="/kinarow/index.09eed240.css"><script src="/kinarow/index.92b5d6c9.js"></script></head><body> <div class="links-container" :class="{ 'links-container--hidden': !show }" x-data="{ show: true }" @startgame.window="show = false" @gameover.window="show = true"> <a class="link" href="https://github.com/adoxography/kinarow"> <svg class="link__icon" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M512 0C229.12 0 0 229.12 0 512c0 226.56 146.56 417.92 350.08 485.76 25.6 4.48 35.2-10.88 35.2-24.32 0-12.16-.64-52.48-.64-95.36-128.64 23.68-161.92-31.36-172.16-60.16-5.76-14.72-30.72-60.16-52.48-72.32-17.92-9.6-43.52-33.28-.64-33.92 40.32-.64 69.12 37.12 78.72 52.48 46.08 77.44 119.68 55.68 149.12 42.24 4.48-33.28 17.92-55.68 32.64-68.48-113.92-12.8-232.96-56.96-232.96-252.8 0-55.68 19.84-101.76 52.48-137.6-5.12-12.8-23.04-65.28 5.12-135.68 0 0 42.88-13.44 140.8 52.48 40.96-11.52 84.48-17.28 128-17.28 43.52 0 87.04 5.76 128 17.28 97.92-66.56 140.8-52.48 140.8-52.48 28.16 70.4 10.24 122.88 5.12 135.68 32.64 35.84 52.48 81.28 52.48 137.6 0 196.48-119.68 240-233.6 252.8 18.56 16 34.56 46.72 34.56 94.72 0 68.48-.64 123.52-.64 140.8 0 13.44 9.6 29.44 35.2 24.32C877.44 929.92 1024 737.92 1024 512 1024 229.12 794.88 0 512 0z"/></svg> </a> </div> <form class="controls" x-data="Control()" x-cloak="" x-init="
      $watch('width', () => update());
      $watch('height', () => update());
      $watch('k', () => update());
    " :class="{ 'controls--hidden': state === State.PLAY }" @submit.prevent="start" @gameover.window="state = State.SETUP"> <div class="field"> <input type="number" class="field__input field__input--number" :disabled="state !== State.SETUP" x-model.number="width" @focus="$event.target.select()"> <span>x</span> <input class="field__input field__input--number" :disabled="state !== State.SETUP" x-model.number="height" @focus="$event.target.select()"> </div> <div class="field"> <input type="number" class="field__input field__input--number" x-model.number="k" :disabled="state !== State.SETUP" @focus="$event.target.select()"> to win </div> <div> <template x-for="(agent, agentIndex) in agents" :key="agentIndex"> <div class="field"> <input type="text" class="field__input field__input--url" :placeholder="`Player ${agentIndex+1}`" :value="agent.url" @change="agent.url = $event.target.value; agent.ready = false;"> <div class="field__spinner"> <div x-show="state === State.WAIT && !agent.ready"> <div class="double-bounce1"></div> <div class="double-bounce2"></div> </div> </div> </div> </template> </div> <div class="center"> <button class="btn" type="submit" :disabled="state !== State.SETUP"> Start </button> </div> </form> <div id="game" class="game-container" x-data="Game()" x-cloak="" @updategame.window="update($event.detail.width, $event.detail.height, $event.detail.k)" @startgame.window="start($event.detail.agents)"> <div class="board" :class="{ 'board--started': state === State.PLAY || state == State.WAIT }" :style="`--columns: ${board.width}; --rows: ${board.height};`"> <template x-for="(cell, index) in board.cells" :key="index"> <div class="board__cell" :class="{
            'board__cell--empty': cell === null,
            'board__cell--active': state === State.PLAY && cell === null,
            'board__cell--p1': cell === 0,
            'board__cell--p2': cell === 1
          }" @click="handleCellClicked(index)" :x-ref="`cell-${index}`"></div> </template> </div> </div> <div x-data="{ message: '', show: false }" x-cloak="" class="notification" :class="{ 'notification--hidden': !show }" @flash.window="
      message = $event.detail.message;
      show = true;
      setTimeout(() => { show = false; }, $event.detail.time);
    "> <p x-text="message"></p> </div> </body></html>